---
- name: Copy file and change permissions
  hosts: linux-vm1
  become: yes

  tasks:
    - name: Copy /etc/issue file
      copy:
        src: /etc/issue
        dest: /etc/issue
        owner: user4000
        group: cloudadmins
        mode: '0444'

- name: Change timezone
  hosts: linux
  become: yes

  tasks:
    - name: Set timezone to America/Edmonton
      timezone:
        name: America/Edmonton

- name: Manage users and groups
  hosts: linux-vm2
  become: yes

  tasks:
    - name: Create group devops
      group:
        name: devops
        state: present

    - name: Create user devops1
      user:
        name: devops1
        uid: 2500
        groups: devops
        append: yes
